<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP                #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric      #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts   #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances  #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">-- | Flat instances for the base library</span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Flat.Instances.Base</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">liftM2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Bool</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Char</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Complex</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Complex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Fixed</span></a></span><span>
</span><span id="line-15"></span><span class="hs-comment">-- #if MIN_VERSION_base(4,9,0)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- #endif</span><span class="hs-cpp">

#if ! MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Applicative</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Monoid</span><span>           </span><span class="hs-special">(</span><span class="hs-identifier">mempty</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_base(4,9,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Semigroup</span></a></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Semigroup</span></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Monoid</span></a></span><span>           </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Monoid</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Ratio</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Flat.Instances.Util.html"><span class="hs-identifier">Flat.Instances.Util</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span>               </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-comment">-- #if !MIN_VERSION_base(4,9,0)</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- import           Data.Monoid           ((&lt;&gt;))</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- #endif</span><span class="hs-cpp">

#if MIN_VERSION_base(4,9,0)
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Data.Functor.Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier">Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- #if !MIN_VERSION_base(4,9,0)</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- deriving instance Generic (Complex a)</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- #endif</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-comment">{- ORMOLU_DISABLE -}</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XNegativeLiterals -XTypeApplications</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- &gt;&gt;&gt; import Flat.Instances.Test</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Fixed</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Int</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Complex(Complex(..))</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- &gt;&gt;&gt; import Numeric.Natural</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Word</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Ratio</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- &gt;&gt;&gt; import Flat.Run</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Monoid</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.List.NonEmpty as B</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- &gt;&gt;&gt; let test = tstBits</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- &gt;&gt;&gt; let y = 33</span><span>
</span><span id="line-60"></span><span class="hs-comment">{- ORMOLU_ENABLE -}</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">-- &gt;&gt;&gt; y</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-comment">-- | @since 0.4.4</span><span class="hs-cpp">
#if MIN_VERSION_base(4,8,0)
</span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.All</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>    </span><span id="local-6989586621679098789"><span class="annot"><span class="annottext">encode :: All -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.All</span></a></span><span> </span><span id="local-6989586621679098786"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098786"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098786"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span id="local-6989586621679098784"><span class="annot"><span class="annottext">size :: All -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.All</span></a></span><span> </span><span id="local-6989586621679098782"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098782"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098782"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span id="local-6989586621679098778"><span class="annot"><span class="annottext">decode :: Get All
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Monoid.All</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">{- |

&gt;&gt;&gt; let w = Just (11::Word8); a = Alt w &lt;&gt; Alt (Just 24) in tst a == tst w
True

&gt;&gt;&gt; let w = Just (11::Word8); a = Alt Nothing &lt;&gt; Alt w in tst a == tst w
True

@since 0.4.4
-}</span><span>
</span><span id="line-81"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099434"><span id="local-6989586621679099435"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099435"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099434"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099435"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099434"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>    </span><span id="local-6989586621679098769"><span class="annot"><span class="annottext">encode :: Alt f a -&gt; Encoding
</span><a href="#local-6989586621679098769"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Alt</span></a></span><span> </span><span id="local-6989586621679098767"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679098767"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679098767"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679098765"><span class="annot"><span class="annottext">size :: Alt f a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098765"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Alt</span></a></span><span> </span><span id="local-6989586621679098764"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679098764"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679098764"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621679098761"><span class="annot"><span class="annottext">decode :: Get (Alt f a)
</span><a href="#local-6989586621679098761"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {k} (f :: k -&gt; *) (a :: k). f a -&gt; Alt f a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Monoid.Alt</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_base(4,9,0)
</span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-89"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099428"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099428"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099428"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621679098754"><span class="annot"><span class="annottext">encode :: Identity a -&gt; Encoding
</span><a href="#local-6989586621679098754"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span id="local-6989586621679098752"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098752"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098752"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span id="local-6989586621679098750"><span class="annot"><span class="annottext">size :: Identity a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098750"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span id="local-6989586621679098749"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098749"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098749"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span id="local-6989586621679098746"><span class="annot"><span class="annottext">decode :: Get (Identity a)
</span><a href="#local-6989586621679098746"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-96"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099424"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099424"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Dual</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099424"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679098739"><span class="annot"><span class="annottext">encode :: Dual a -&gt; Encoding
</span><a href="#local-6989586621679098739"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Dual</span></a></span><span> </span><span id="local-6989586621679098737"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098737"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098737"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span id="local-6989586621679098735"><span class="annot"><span class="annottext">size :: Dual a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098735"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Dual</span></a></span><span> </span><span id="local-6989586621679098734"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098734"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098734"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-99"></span><span>    </span><span id="local-6989586621679098731"><span class="annot"><span class="annottext">decode :: Get (Dual a)
</span><a href="#local-6989586621679098731"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Dual a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Monoid.Dual</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-102"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Any</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679098725"><span class="annot"><span class="annottext">encode :: Any -&gt; Encoding
</span><a href="#local-6989586621679098725"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Any</span></a></span><span> </span><span id="local-6989586621679098723"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098723"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098723"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span id="local-6989586621679098721"><span class="annot"><span class="annottext">size :: Any -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098721"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Any</span></a></span><span> </span><span id="local-6989586621679098720"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098720"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679098720"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span id="local-6989586621679098717"><span class="annot"><span class="annottext">decode :: Get Any
</span><a href="#local-6989586621679098717"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Any
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Monoid.Any</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-108"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099419"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099419"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Sum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099419"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>    </span><span id="local-6989586621679098710"><span class="annot"><span class="annottext">encode :: Sum a -&gt; Encoding
</span><a href="#local-6989586621679098710"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Sum</span></a></span><span> </span><span id="local-6989586621679098708"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098708"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098708"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span id="local-6989586621679098706"><span class="annot"><span class="annottext">size :: Sum a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098706"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Sum</span></a></span><span> </span><span id="local-6989586621679098705"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098705"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098705"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span id="local-6989586621679098702"><span class="annot"><span class="annottext">decode :: Get (Sum a)
</span><a href="#local-6989586621679098702"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Sum a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Monoid.Sum</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-114"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099415"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Product</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099415"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>    </span><span id="local-6989586621679098695"><span class="annot"><span class="annottext">encode :: Product a -&gt; Encoding
</span><a href="#local-6989586621679098695"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Product</span></a></span><span> </span><span id="local-6989586621679098693"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098693"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098693"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-116"></span><span>    </span><span id="local-6989586621679098691"><span class="annot"><span class="annottext">size :: Product a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098691"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Monoid.Product</span></a></span><span> </span><span id="local-6989586621679098690"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098690"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098690"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span id="local-6989586621679098687"><span class="annot"><span class="annottext">decode :: Get (Product a)
</span><a href="#local-6989586621679098687"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Product a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Monoid.Product</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span class="hs-cpp">

#if MIN_VERSION_base(4,9,0)
</span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099411"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099411"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Min</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099411"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621679098680"><span class="annot"><span class="annottext">encode :: Min a -&gt; Encoding
</span><a href="#local-6989586621679098680"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Min</span></a></span><span> </span><span id="local-6989586621679098678"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098678"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098678"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span id="local-6989586621679098676"><span class="annot"><span class="annottext">size :: Min a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098676"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Min</span></a></span><span> </span><span id="local-6989586621679098675"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098675"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098675"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span id="local-6989586621679098672"><span class="annot"><span class="annottext">decode :: Get (Min a)
</span><a href="#local-6989586621679098672"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Min a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Semigroup.Min</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-127"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099407"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099407"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Max</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099407"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-128"></span><span>    </span><span id="local-6989586621679098665"><span class="annot"><span class="annottext">encode :: Max a -&gt; Encoding
</span><a href="#local-6989586621679098665"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Max</span></a></span><span> </span><span id="local-6989586621679098663"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098663"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098663"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679098661"><span class="annot"><span class="annottext">size :: Max a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098661"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Max</span></a></span><span> </span><span id="local-6989586621679098660"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098660"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098660"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679098657"><span class="annot"><span class="annottext">decode :: Get (Max a)
</span><a href="#local-6989586621679098657"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Max a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Semigroup.Max</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-133"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099403"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099403"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.First</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099403"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679098650"><span class="annot"><span class="annottext">encode :: First a -&gt; Encoding
</span><a href="#local-6989586621679098650"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.First</span></a></span><span> </span><span id="local-6989586621679098648"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098648"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098648"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span id="local-6989586621679098646"><span class="annot"><span class="annottext">size :: First a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098646"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.First</span></a></span><span> </span><span id="local-6989586621679098645"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098645"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098645"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span id="local-6989586621679098642"><span class="annot"><span class="annottext">decode :: Get (First a)
</span><a href="#local-6989586621679098642"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; First a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Semigroup.First</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | @since 0.4.4</span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099399"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099399"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Last</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099399"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621679098635"><span class="annot"><span class="annottext">encode :: Last a -&gt; Encoding
</span><a href="#local-6989586621679098635"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Last</span></a></span><span> </span><span id="local-6989586621679098633"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098633"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098633"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-141"></span><span>    </span><span id="local-6989586621679098631"><span class="annot"><span class="annottext">size :: Last a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098631"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Semigroup.Last</span></a></span><span> </span><span id="local-6989586621679098630"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098630"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098630"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span id="local-6989586621679098627"><span class="annot"><span class="annottext">decode :: Get (Last a)
</span><a href="#local-6989586621679098627"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Last a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Semigroup.Last</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-145"></span><span class="hs-comment">{- |
`()`, as all data types with a single constructor, has a zero-length encoding.

&gt;&gt;&gt; test ()
(True,0,&quot;&quot;)
-}</span><span>
</span><span id="line-151"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>    </span><span id="local-6989586621679098620"><span class="annot"><span class="annottext">encode :: () -&gt; Encoding
</span><a href="#local-6989586621679098620"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679098619"><span class="annot"><span class="annottext">size :: () -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098619"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621679098615"><span class="annot"><span class="annottext">decode :: Get ()
</span><a href="#local-6989586621679098615"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">{- |
One bit is plenty for a Bool.

&gt;&gt;&gt; test False
(True,1,&quot;0&quot;)

&gt;&gt;&gt; test True
(True,1,&quot;1&quot;)
-}</span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621679098611"><span class="annot"><span class="annottext">encode :: Bool -&gt; Encoding
</span><a href="#local-6989586621679098611"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eBool"><span class="hs-identifier hs-var">eBool</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621679098609"><span class="annot"><span class="annottext">size :: Bool -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098609"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sBool"><span class="hs-identifier hs-var">sBool</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>    </span><span id="local-6989586621679098607"><span class="annot"><span class="annottext">decode :: Get Bool
</span><a href="#local-6989586621679098607"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Bool
</span><a href="Flat.Decoder.Prim.html#dBool"><span class="hs-identifier hs-var">dBool</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">{- |
Char's are mapped to Word32 and then encoded.

For ascii characters, the encoding is standard ascii.

&gt;&gt;&gt; test 'a'
(True,8,&quot;01100001&quot;)

For unicode characters, the encoding is non standard.

&gt;&gt;&gt; test '&#200;'
(True,16,&quot;11001000 00000001&quot;)

&gt;&gt;&gt; test '&#19981;'
(True,24,&quot;10001101 10011100 00000001&quot;)

#ifndef ETA
&gt;&gt;&gt; test &quot;\x1F600&quot;
(True,26,&quot;11000000 01110110 00000011 10&quot;)
#endif
-}</span><span>
</span><span id="line-195"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679098601"><span class="annot"><span class="annottext">size :: Char -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098601"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sChar"><span class="hs-identifier hs-var">sChar</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span>    </span><span id="local-6989586621679098599"><span class="annot"><span class="annottext">encode :: Char -&gt; Encoding
</span><a href="#local-6989586621679098599"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eChar"><span class="hs-identifier hs-var">eChar</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621679098597"><span class="annot"><span class="annottext">decode :: Get Char
</span><a href="#local-6989586621679098597"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Char
</span><a href="Flat.Decoder.Strict.html#dChar"><span class="hs-identifier hs-var">dChar</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (Nothing::Maybe Bool)
(True,1,&quot;0&quot;)

&gt;&gt;&gt; test (Just False::Maybe Bool)
(True,2,&quot;10&quot;)
-}</span><span>
</span><span id="line-209"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098590"><span id="local-6989586621679098592"><span id="local-6989586621679098594"><span id="local-6989586621679099393"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099393"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099393"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (Left False::Either Bool ())
(True,2,&quot;00&quot;)

&gt;&gt;&gt; test (Right ()::Either Bool ())
(True,1,&quot;1&quot;)
-}</span><span>
</span><span id="line-218"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098584"><span id="local-6989586621679098586"><span id="local-6989586621679098588"><span id="local-6989586621679099391"><span id="local-6989586621679099392"><span class="hs-special">(</span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099392"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099391"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099392"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099391"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (MkFixed 123 :: Fixed E0)
(True,16,&quot;11110110 00000001&quot;)

&gt;&gt;&gt; test (MkFixed 123 :: Fixed E0) == test (MkFixed 123 :: Fixed E2)
True
-}</span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099388"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Fixed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099388"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679098577"><span class="annot"><span class="annottext">encode :: Fixed a -&gt; Encoding
</span><a href="#local-6989586621679098577"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">MkFixed</span></a></span><span> </span><span id="local-6989586621679098575"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679098575"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679098575"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621679098573"><span class="annot"><span class="annottext">size :: Fixed a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098573"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">MkFixed</span></a></span><span> </span><span id="local-6989586621679098572"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679098572"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679098572"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621679098569"><span class="annot"><span class="annottext">decode :: Get (Fixed a)
</span><a href="#local-6989586621679098569"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (a :: k). Integer -&gt; Fixed a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">MkFixed</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">{- |
Word8 always take 8 bits.

&gt;&gt;&gt; test (0::Word8)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (255::Word8)
(True,8,&quot;11111111&quot;)
-}</span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679098564"><span class="annot"><span class="annottext">encode :: Word8 -&gt; Encoding
</span><a href="#local-6989586621679098564"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eWord8"><span class="hs-identifier hs-var">eWord8</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span>    </span><span id="local-6989586621679098562"><span class="annot"><span class="annottext">decode :: Get Word8
</span><a href="#local-6989586621679098562"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Word8
</span><a href="Flat.Decoder.Prim.html#dWord8"><span class="hs-identifier hs-var">dWord8</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621679098560"><span class="annot"><span class="annottext">size :: Word8 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098560"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sWord8"><span class="hs-identifier hs-var">sWord8</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">{- |
Natural, Word, Word16, Word32 and Word64 are encoded as a non empty list of 7 bits chunks (least significant chunk first and most significant bit first in every chunk).

Words are always encoded in a whole number of bytes, as every chunk is 8 bits long (1 bit for the List constructor, plus 7 bits for the value).

The actual definition is:

@
Word64 &#8801;   Word64 Word

Word32 &#8801;   Word32 Word

Word16 &#8801;   Word16 Word

Word &#8801;   Word (LeastSignificantFirst (NonEmptyList (MostSignificantFirst Word7)))

LeastSignificantFirst a &#8801;   LeastSignificantFirst a

NonEmptyList a &#8801;   Elem a
                 | Cons a (NonEmptyList a)

MostSignificantFirst a &#8801;   MostSignificantFirst a

Word7 &#8801;   V0
        | V1
        | V2
        ...
        | V127
@

Values between as 0 and 127 fit in a single byte.

127 (0b1111111) is represented as Elem V127 and encoded as: Elem=0 127=1111111

&gt;&gt;&gt; test (127::Word)
(True,8,&quot;01111111&quot;)

254 (0b11111110) is represented as Cons V126 (Elem V1) (254=128+126) and encoded as: Cons=1 V126=1111110 (Elem=0 V1=0000001):

&gt;&gt;&gt; test (254::Word)
(True,16,&quot;11111110 00000001&quot;)

Another example, 32768 (Ob1000000000000000 = 0000010 0000000 0000000):

&gt;&gt;&gt; test (32768::Word32)
(True,24,&quot;10000000 10000000 00000010&quot;)

As this is a variable length encoding, values are encoded in the same way, whatever their type:

&gt;&gt;&gt; all (test (3::Word) ==) [test (3::Word16),test (3::Word32),test (3::Word64)]
True


Word/Int decoders return an error if the encoded value is outside their valid range:

&gt;&gt;&gt; unflat @Word16 (flat @Word32 $ fromIntegral @Word16 maxBound)
Right 65535

&gt;&gt;&gt; unflat @Word16 (flat @Word32 $ fromIntegral @Word16 maxBound + 1)
Left (BadEncoding ...

&gt;&gt;&gt; unflat @Word32 (flat @Word64 $ fromIntegral @Word32 maxBound)
Right 4294967295

&gt;&gt;&gt; unflat @Word32 (flat @Word64 $ fromIntegral @Word32 maxBound + 1)
Left (BadEncoding ...

&gt;&gt;&gt; unflat @Word64 (flat @Natural $ fromIntegral @Word64 maxBound)
Right 18446744073709551615

&gt;&gt;&gt; unflat @Word64 (flat @Natural $ fromIntegral @Word64 maxBound + 1)
Left (BadEncoding ...



&gt;&gt;&gt; unflat @Int16 (flat @Int32 $ fromIntegral @Int16 maxBound)
Right 32767

&gt;&gt;&gt; unflat @Int16 (flat @Int32 $ fromIntegral @Int16 maxBound + 1)
Left (BadEncoding ...

&gt;&gt;&gt; unflat @Int32 (flat @Int64 $ fromIntegral @Int32 maxBound)
Right 2147483647

&gt;&gt;&gt; unflat @Int32 (flat @Int64 $ fromIntegral @Int32 maxBound + 1)
Left (BadEncoding ...

&gt;&gt;&gt; unflat @Int64 (flat @Integer $ fromIntegral @Int64 maxBound)
Right 9223372036854775807

&gt;&gt;&gt; unflat @Int64 (flat @Integer $ fromIntegral @Int64 maxBound + 1)
Left (BadEncoding ...


&gt;&gt;&gt; unflat @Int16 (flat @Int32 $ fromIntegral @Int16 minBound)
Right (-32768)

&gt;&gt;&gt; unflat @Int16 (flat @Int32 $ fromIntegral @Int16 minBound - 1)
Left (BadEncoding ...

&gt;&gt;&gt; unflat @Int32 (flat @Int64 $ fromIntegral @Int32 minBound)
Right (-2147483648)

&gt;&gt;&gt; unflat @Int32 (flat @Int64 $ fromIntegral @Int32 minBound - 1)
Left (BadEncoding ...

&gt;&gt;&gt; unflat @Int64 (flat @Integer $ fromIntegral @Int64 minBound)
Right (-9223372036854775808)

&gt;&gt;&gt; unflat @Int64 (flat @Integer $ fromIntegral @Int64 minBound - 1)
Left (BadEncoding ...
-}</span><span>
</span><span id="line-362"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Word</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-363"></span><span>    </span><span id="local-6989586621679098554"><span class="annot"><span class="annottext">size :: Word -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098554"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sWord"><span class="hs-identifier hs-var">sWord</span></a></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span>    </span><span id="local-6989586621679098552"><span class="annot"><span class="annottext">encode :: Word -&gt; Encoding
</span><a href="#local-6989586621679098552"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eWord"><span class="hs-identifier hs-var">eWord</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span>    </span><span id="local-6989586621679098550"><span class="annot"><span class="annottext">decode :: Get Word
</span><a href="#local-6989586621679098550"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Word
</span><a href="Flat.Decoder.Strict.html#dWord"><span class="hs-identifier hs-var">dWord</span></a></span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span class="hs-comment">{- |
Naturals are encoded just as the fixed size Words.

&gt;&gt;&gt; test (0::Natural)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (2^120::Natural)
(True,144,&quot;10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 00000010&quot;)
-}</span><span>
</span><span id="line-378"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-bignum-1.2/src"><span class="hs-identifier hs-type">Natural</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679098544"><span class="annot"><span class="annottext">size :: Nat -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098544"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sNatural"><span class="hs-identifier hs-var">sNatural</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>    </span><span id="local-6989586621679098542"><span class="annot"><span class="annottext">encode :: Nat -&gt; Encoding
</span><a href="#local-6989586621679098542"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Nat -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eNatural"><span class="hs-identifier hs-var">eNatural</span></a></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621679098540"><span class="annot"><span class="annottext">decode :: Get Nat
</span><a href="#local-6989586621679098540"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Nat
</span><a href="Flat.Decoder.Strict.html#dNatural"><span class="hs-identifier hs-var">dNatural</span></a></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word16</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621679098534"><span class="annot"><span class="annottext">encode :: Word16 -&gt; Encoding
</span><a href="#local-6989586621679098534"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eWord16"><span class="hs-identifier hs-var">eWord16</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span>    </span><span id="local-6989586621679098532"><span class="annot"><span class="annottext">decode :: Get Word16
</span><a href="#local-6989586621679098532"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Word16
</span><a href="Flat.Decoder.Strict.html#dWord16"><span class="hs-identifier hs-var">dWord16</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621679098530"><span class="annot"><span class="annottext">size :: Word16 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098530"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sWord16"><span class="hs-identifier hs-var">sWord16</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-393"></span><span>    </span><span id="local-6989586621679098524"><span class="annot"><span class="annottext">encode :: Word32 -&gt; Encoding
</span><a href="#local-6989586621679098524"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eWord32"><span class="hs-identifier hs-var">eWord32</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span>    </span><span id="local-6989586621679098522"><span class="annot"><span class="annottext">decode :: Get Word32
</span><a href="#local-6989586621679098522"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Word32
</span><a href="Flat.Decoder.Strict.html#dWord32"><span class="hs-identifier hs-var">dWord32</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621679098520"><span class="annot"><span class="annottext">size :: Word32 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098520"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sWord32"><span class="hs-identifier hs-var">sWord32</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621679098514"><span class="annot"><span class="annottext">encode :: Word64 -&gt; Encoding
</span><a href="#local-6989586621679098514"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eWord64"><span class="hs-identifier hs-var">eWord64</span></a></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>    </span><span id="local-6989586621679098512"><span class="annot"><span class="annottext">decode :: Get Word64
</span><a href="#local-6989586621679098512"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Word64
</span><a href="Flat.Decoder.Strict.html#dWord64"><span class="hs-identifier hs-var">dWord64</span></a></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span>    </span><span id="local-6989586621679098510"><span class="annot"><span class="annottext">size :: Word64 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098510"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sWord64"><span class="hs-identifier hs-var">sWord64</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-comment">{- |
Integer, Int, Int16, Int32 and Int64 are defined as the &lt;https://developers.google.com/protocol-buffers/docs/encoding#signed-integers ZigZag&gt; encoded version of the equivalent unsigned Word:

@
Int   &#8801;  Int   (ZigZag Word)

Int64 &#8801;  Int64 (ZigZag Word64)

Int32 &#8801;  Int32 (ZigZag Word32)

Int16 &#8801;  Int16 (ZigZag Word16)

Int8  &#8801;  Int8  (ZigZag Word8)

ZigZag a &#8801; ZigZag a
@

ZigZag encoding alternates between positive and negative numbers, so that numbers whose absolute value is small can be encoded efficiently:

&gt;&gt;&gt; test (0::Int)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (-1::Int)
(True,8,&quot;00000001&quot;)

&gt;&gt;&gt; test (1::Int)
(True,8,&quot;00000010&quot;)

&gt;&gt;&gt; test (-2::Int)
(True,8,&quot;00000011&quot;)

&gt;&gt;&gt; test (2::Int)
(True,8,&quot;00000100&quot;)
-}</span><span>
</span><span id="line-440"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-441"></span><span>    </span><span id="local-6989586621679098504"><span class="annot"><span class="annottext">size :: NumBits -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098504"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sInt"><span class="hs-identifier hs-var">sInt</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span>    </span><span id="local-6989586621679098502"><span class="annot"><span class="annottext">encode :: NumBits -&gt; Encoding
</span><a href="#local-6989586621679098502"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eInt"><span class="hs-identifier hs-var">eInt</span></a></span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span>    </span><span id="local-6989586621679098500"><span class="annot"><span class="annottext">decode :: Get NumBits
</span><a href="#local-6989586621679098500"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get NumBits
</span><a href="Flat.Decoder.Strict.html#dInt"><span class="hs-identifier hs-var">dInt</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="hs-comment">{- |
Integers are encoded just as the fixed size Ints.

&gt;&gt;&gt; test (0::Integer)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (-1::Integer)
(True,8,&quot;00000001&quot;)

&gt;&gt;&gt; test (1::Integer)
(True,8,&quot;00000010&quot;)

&gt;&gt;&gt; test (-(2^4)::Integer)
(True,8,&quot;00011111&quot;)

&gt;&gt;&gt; test (2^4::Integer)
(True,8,&quot;00100000&quot;)

&gt;&gt;&gt; test (-(2^120)::Integer)
(True,144,&quot;11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 00000011&quot;)

&gt;&gt;&gt; test (2^120::Integer)
(True,144,&quot;10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000 00000100&quot;)
-}</span><span>
</span><span id="line-471"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-bignum-1.2/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>    </span><span id="local-6989586621679098495"><span class="annot"><span class="annottext">size :: Integer -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098495"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sInteger"><span class="hs-identifier hs-var">sInteger</span></a></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span>    </span><span id="local-6989586621679098493"><span class="annot"><span class="annottext">encode :: Integer -&gt; Encoding
</span><a href="#local-6989586621679098493"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eInteger"><span class="hs-identifier hs-var">eInteger</span></a></span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span>    </span><span id="local-6989586621679098491"><span class="annot"><span class="annottext">decode :: Get Integer
</span><a href="#local-6989586621679098491"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Integer
</span><a href="Flat.Decoder.Strict.html#dInteger"><span class="hs-identifier hs-var">dInteger</span></a></span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (0::Int8)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (127::Int8)
(True,8,&quot;11111110&quot;)

&gt;&gt;&gt; test (-128::Int8)
(True,8,&quot;11111111&quot;)
-}</span><span>
</span><span id="line-488"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Int8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-489"></span><span>    </span><span id="local-6989586621679098485"><span class="annot"><span class="annottext">encode :: Int8 -&gt; Encoding
</span><a href="#local-6989586621679098485"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int8 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eInt8"><span class="hs-identifier hs-var">eInt8</span></a></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span>    </span><span id="local-6989586621679098483"><span class="annot"><span class="annottext">decode :: Get Int8
</span><a href="#local-6989586621679098483"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Int8
</span><a href="Flat.Decoder.Strict.html#dInt8"><span class="hs-identifier hs-var">dInt8</span></a></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span>    </span><span id="local-6989586621679098481"><span class="annot"><span class="annottext">size :: Int8 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098481"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int8 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sInt8"><span class="hs-identifier hs-var">sInt8</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (0::Int16)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (1::Int16)
(True,8,&quot;00000010&quot;)

&gt;&gt;&gt; test (-1::Int16)
(True,8,&quot;00000001&quot;)

&gt;&gt;&gt; test (minBound::Int16)
(True,24,&quot;11111111 11111111 00000011&quot;)

equivalent to 0b1111111111111111

&gt;&gt;&gt; test (maxBound::Int16)
(True,24,&quot;11111110 11111111 00000011&quot;)

equivalent to 0b1111111111111110
-}</span><span>
</span><span id="line-515"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Int16</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>    </span><span id="local-6989586621679098475"><span class="annot"><span class="annottext">size :: Int16 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098475"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sInt16"><span class="hs-identifier hs-var">sInt16</span></a></span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span>    </span><span id="local-6989586621679098473"><span class="annot"><span class="annottext">encode :: Int16 -&gt; Encoding
</span><a href="#local-6989586621679098473"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eInt16"><span class="hs-identifier hs-var">eInt16</span></a></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span>    </span><span id="local-6989586621679098471"><span class="annot"><span class="annottext">decode :: Get Int16
</span><a href="#local-6989586621679098471"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Int16
</span><a href="Flat.Decoder.Strict.html#dInt16"><span class="hs-identifier hs-var">dInt16</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (0::Int32)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (minBound::Int32)
(True,40,&quot;11111111 11111111 11111111 11111111 00001111&quot;)

&gt;&gt;&gt; test (maxBound::Int32)
(True,40,&quot;11111110 11111111 11111111 11111111 00001111&quot;)
-}</span><span>
</span><span id="line-532"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-533"></span><span>    </span><span id="local-6989586621679098465"><span class="annot"><span class="annottext">size :: Int32 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098465"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sInt32"><span class="hs-identifier hs-var">sInt32</span></a></span><span>
</span><span id="line-534"></span><span>
</span><span id="line-535"></span><span>    </span><span id="local-6989586621679098463"><span class="annot"><span class="annottext">encode :: Int32 -&gt; Encoding
</span><a href="#local-6989586621679098463"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eInt32"><span class="hs-identifier hs-var">eInt32</span></a></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span>    </span><span id="local-6989586621679098461"><span class="annot"><span class="annottext">decode :: Get Int32
</span><a href="#local-6989586621679098461"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Int32
</span><a href="Flat.Decoder.Strict.html#dInt32"><span class="hs-identifier hs-var">dInt32</span></a></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (0::Int64)
(True,8,&quot;00000000&quot;)

&gt;&gt;&gt; test (minBound::Int64)
(True,80,&quot;11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 00000001&quot;)

&gt;&gt;&gt; test (maxBound::Int64)
(True,80,&quot;11111110 11111111 11111111 11111111 11111111 11111111 11111111 11111111 11111111 00000001&quot;)
-}</span><span>
</span><span id="line-549"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Int64</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-550"></span><span>    </span><span id="local-6989586621679098455"><span class="annot"><span class="annottext">size :: Int64 -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098455"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sInt64"><span class="hs-identifier hs-var">sInt64</span></a></span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span>    </span><span id="local-6989586621679098453"><span class="annot"><span class="annottext">encode :: Int64 -&gt; Encoding
</span><a href="#local-6989586621679098453"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eInt64"><span class="hs-identifier hs-var">eInt64</span></a></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span>    </span><span id="local-6989586621679098451"><span class="annot"><span class="annottext">decode :: Get Int64
</span><a href="#local-6989586621679098451"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Int64
</span><a href="Flat.Decoder.Strict.html#dInt64"><span class="hs-identifier hs-var">dInt64</span></a></span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span class="hs-comment">{- |
Floats are encoded as standard IEEE binary32 values:

@
IEEE_754_binary32 &#8801; IEEE_754_binary32 {sign :: Sign,
                                        exponent :: MostSignificantFirst Bits8,
                                        fraction :: MostSignificantFirst Bits23}
@

&gt;&gt;&gt; test (0::Float)
(True,32,&quot;00000000 00000000 00000000 00000000&quot;)

&gt;&gt;&gt; test (1.4012984643E-45::Float)
(True,32,&quot;00000000 00000000 00000000 00000001&quot;)

&gt;&gt;&gt; test (1.1754942107E-38::Float)
(True,32,&quot;00000000 01111111 11111111 11111111&quot;)
-}</span><span>
</span><span id="line-574"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Float</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-575"></span><span>    </span><span id="local-6989586621679098445"><span class="annot"><span class="annottext">size :: Float -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098445"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sFloat"><span class="hs-identifier hs-var">sFloat</span></a></span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span>    </span><span id="local-6989586621679098443"><span class="annot"><span class="annottext">encode :: Float -&gt; Encoding
</span><a href="#local-6989586621679098443"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eFloat"><span class="hs-identifier hs-var">eFloat</span></a></span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span>    </span><span id="local-6989586621679098441"><span class="annot"><span class="annottext">decode :: Get Float
</span><a href="#local-6989586621679098441"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Float
</span><a href="Flat.Decoder.Prim.html#dFloat"><span class="hs-identifier hs-var">dFloat</span></a></span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span class="hs-comment">{- |
Doubles are encoded as standard IEEE binary64 values:

@
IEEE_754_binary64 &#8801; IEEE_754_binary64 {sign :: Sign,
                                        exponent :: MostSignificantFirst Bits11,
                                        fraction :: MostSignificantFirst Bits52}
@
-}</span><span>
</span><span id="line-590"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-591"></span><span>    </span><span id="local-6989586621679098435"><span class="annot"><span class="annottext">size :: Double -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098435"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Encoder.Strict.html#sDouble"><span class="hs-identifier hs-var">sDouble</span></a></span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span>    </span><span id="local-6989586621679098433"><span class="annot"><span class="annottext">encode :: Double -&gt; Encoding
</span><a href="#local-6989586621679098433"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Encoding
</span><a href="Flat.Encoder.Strict.html#eDouble"><span class="hs-identifier hs-var">eDouble</span></a></span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span>    </span><span id="local-6989586621679098431"><span class="annot"><span class="annottext">decode :: Get Double
</span><a href="#local-6989586621679098431"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Get Double
</span><a href="Flat.Decoder.Prim.html#dDouble"><span class="hs-identifier hs-var">dDouble</span></a></span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (4 :+ 2 :: Complex Word8)
(True,16,&quot;00000100 00000010&quot;)
-}</span><span>
</span><span id="line-601"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098424"><span id="local-6989586621679098426"><span id="local-6989586621679098428"><span id="local-6989586621679099385"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099385"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Complex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099385"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span class="hs-comment">{- |
Ratios are encoded as tuples of (numerator,denominator)

&gt;&gt;&gt; test (3%4::Ratio Word8)
(True,16,&quot;00000011 00000100&quot;)
-}</span><span>
</span><span id="line-609"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679099383"><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Integral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099383"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099383"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Ratio</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099383"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621679098416"><span class="annot"><span class="annottext">size :: Ratio a -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621679098416"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span id="local-6989586621679098415"><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679098415"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><a href="Flat.Class.html#size"><span class="hs-identifier hs-var">size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ratio a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">numerator</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679098415"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Ratio a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">denominator</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679098415"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span>    </span><span id="local-6989586621679098411"><span class="annot"><span class="annottext">encode :: Ratio a -&gt; Encoding
</span><a href="#local-6989586621679098411"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span id="local-6989586621679098410"><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679098410"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><a href="Flat.Class.html#encode"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ratio a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">numerator</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679098410"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Ratio a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">denominator</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio a
</span><a href="#local-6989586621679098410"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-comment">-- decode = uncurry (%) &lt;$&gt; decode</span><span>
</span><span id="line-615"></span><span>    </span><span id="local-6989586621679098404"><span class="annot"><span class="annottext">decode :: Get (Ratio a)
</span><a href="#local-6989586621679098404"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">liftM2</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; Ratio a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">(%)</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><a href="Flat.Class.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test ([]::[Bool])
(True,1,&quot;0&quot;)

&gt;&gt;&gt; test [False,False]
(True,5,&quot;10100&quot;)

This instance and other similar ones are declared as @OVERLAPPABLE@, because for better encoding/decoding
performance it can be useful to declare instances of concrete types, such as @[Char]@ (not provided out of the box).
-}</span><span>
</span><span id="line-627"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679098397"><span id="local-6989586621679098399"><span id="local-6989586621679098401"><span id="local-6989586621679099374"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099374"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679099374"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span class="hs-comment">{-
&gt;&gt;&gt; import Weigh
&gt;&gt;&gt; flat [1..10::Int]
-}</span><span>
</span><span id="line-633"></span><span>
</span><span id="line-634"></span><span>
</span><span id="line-635"></span><span class="hs-comment">-- Generic list instance (stack overflows with ETA, see https://github.com/typelead/eta/issues/901)</span><span>
</span><span id="line-636"></span><span class="hs-comment">-- where</span><span>
</span><span id="line-637"></span><span class="hs-comment">--size [] n = n+1</span><span>
</span><span id="line-638"></span><span class="hs-comment">--size (h:t) n = trampoline size t (trampoline size h (n+1))</span><span>
</span><span id="line-639"></span><span class="hs-comment">-- size = sizeListWith size -- foldl' (\n e -&gt; ) n</span><span>
</span><span id="line-640"></span><span class="hs-comment">-- encode = error &quot;BAD&quot;</span><span>
</span><span id="line-641"></span><span class="hs-comment">-- encode = trampoline . encodeListWith encode</span><span>
</span><span id="line-642"></span><span class="hs-comment">-- decode = decodeListWith decode</span><span>
</span><span id="line-643"></span><span class="hs-comment">-- sizeListWith siz l n = foldl' (\n e -&gt; 1 + n + siz e 0) n l</span><span>
</span><span id="line-644"></span><span class="hs-comment">-- #ifdef ETA_VERSION</span><span>
</span><span id="line-645"></span><span class="hs-comment">-- import Data.Function(trampoline)</span><span>
</span><span id="line-646"></span><span class="hs-comment">-- import GHC.IO(trampolineIO)</span><span>
</span><span id="line-647"></span><span class="hs-comment">-- #else</span><span>
</span><span id="line-648"></span><span class="hs-comment">-- trampoline = id</span><span>
</span><span id="line-649"></span><span class="hs-comment">-- trampolineIO = id</span><span>
</span><span id="line-650"></span><span class="hs-comment">-- #endif</span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span class="hs-comment">-- #if MIN_VERSION_base(4,9,0)</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span class="hs-comment">{- |
&gt;&gt;&gt; test (B.fromList [True])
(True,2,&quot;10&quot;)

&gt;&gt;&gt; test (B.fromList [False,False])
(True,4,&quot;0100&quot;)
-}</span><span>
</span><span id="line-661"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679098391"><span id="local-6989586621679098393"><span id="local-6989586621679098395"><span id="local-6989586621679099373"><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099373"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">B.NonEmpty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span class="hs-comment">-- #endif</span><span>
</span><span id="line-664"></span><span>
</span><span id="line-665"></span><span class="hs-comment">{- |
Tuples are supported up to 7 elements.

&gt;&gt;&gt; test (False,())
(True,1,&quot;0&quot;)

&gt;&gt;&gt; test ((),())
(True,0,&quot;&quot;)

&quot;7 elements tuples ought to be enough for anybody&quot; (Bill Gates - apocryphal)

&gt;&gt;&gt; test (False,True,True,True,False,True,True)
(True,7,&quot;0111011&quot;)

tst (1::Int,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;)
...error
-}</span><span>
</span><span id="line-682"></span><span>
</span><span id="line-683"></span><span class="hs-comment">-- Not sure if these should be OVERLAPPABLE</span><span>
</span><span id="line-684"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679098385"><span id="local-6989586621679098387"><span id="local-6989586621679098389"><span id="local-6989586621679099381"><span id="local-6989586621679099382"><span class="hs-special">(</span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099382"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099381"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099382"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099381"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-685"></span><span>
</span><span id="line-686"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679098379"><span id="local-6989586621679098381"><span id="local-6989586621679098383"><span id="local-6989586621679099370"><span id="local-6989586621679099371"><span id="local-6989586621679099372"><span class="hs-special">(</span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099372"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099371"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099370"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099372"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099371"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099370"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-687"></span><span>
</span><span id="line-688"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-689"></span><span>    </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-690"></span><span>    </span><span id="local-6989586621679098373"><span id="local-6989586621679098375"><span id="local-6989586621679098377"><span id="local-6989586621679099366"><span id="local-6989586621679099367"><span id="local-6989586621679099368"><span id="local-6989586621679099369"><span class="hs-special">(</span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099369"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099368"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099367"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099366"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-691"></span><span>    </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099369"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099368"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099367"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099366"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-694"></span><span>    </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-695"></span><span>    </span><span id="local-6989586621679098367"><span id="local-6989586621679098369"><span id="local-6989586621679098371"><span id="local-6989586621679099361"><span id="local-6989586621679099362"><span id="local-6989586621679099363"><span id="local-6989586621679099364"><span id="local-6989586621679099365"><span class="hs-special">(</span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099365"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099364"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099363"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099362"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099361"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-696"></span><span>    </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099365"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099364"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099363"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099362"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099361"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-697"></span><span>
</span><span id="line-698"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-699"></span><span>    </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-700"></span><span>    </span><span id="local-6989586621679098361"><span id="local-6989586621679098363"><span id="local-6989586621679098365"><span id="local-6989586621679099355"><span id="local-6989586621679099356"><span id="local-6989586621679099357"><span id="local-6989586621679099358"><span id="local-6989586621679099359"><span id="local-6989586621679099360"><span class="hs-special">(</span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099360"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099359"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099358"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099357"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099356"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099355"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-701"></span><span>    </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099360"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099359"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099358"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099357"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099356"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099355"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-702"></span><span>
</span><span id="line-703"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-704"></span><span>    </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-705"></span><span>    </span><span id="local-6989586621679098355"><span id="local-6989586621679098357"><span id="local-6989586621679098359"><span id="local-6989586621679099348"><span id="local-6989586621679099349"><span id="local-6989586621679099350"><span id="local-6989586621679099351"><span id="local-6989586621679099352"><span id="local-6989586621679099353"><span id="local-6989586621679099354"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099354"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-706"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099353"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-707"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099352"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-708"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099351"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-709"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099350"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-710"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099349"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099348"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-712"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-713"></span><span>    </span><span class="annot"><a href="Flat.Class.html#Flat"><span class="hs-identifier hs-type">Flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099354"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099353"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099352"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099351"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099350"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099349"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099348"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-714"></span></pre></body></html>