<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- editorconfig-checker-disable-file</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds       #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase            #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications      #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators         #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances  #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns          #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans       #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-name-shadowing #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-uni-patterns #-}</span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusIR.Core.Instance.Pretty.Readable</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#prettyPirReadable"><span class="hs-identifier">prettyPirReadable</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyPir"><span class="hs-identifier">PrettyPir</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Default.Universe.html"><span class="hs-identifier">PlutusCore.Default.Universe</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.ConfigName.html"><span class="hs-identifier">PlutusCore.Pretty.ConfigName</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html"><span class="hs-identifier">PlutusCore.Pretty.PrettyConst</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.Readable.html"><span class="hs-identifier">PlutusCore.Pretty.Readable</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html"><span class="hs-identifier">PlutusIR.Core.Type</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusPrelude.html"><span class="hs-identifier">PlutusPrelude</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Prettyprinter.Custom.html"><span class="hs-identifier">Prettyprinter.Custom</span></a></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">type</span><span> </span><span id="PrettyPir"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyPir"><span class="hs-identifier hs-var">PrettyPir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyConfigReadable"><span class="hs-identifier hs-type">PrettyConfigReadable</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.ConfigName.html#PrettyConfigName"><span class="hs-identifier hs-type">PrettyConfigName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-comment">-- | Pretty-print something with the Pir prettyprinter settings.</span><span>
</span><span id="line-30"></span><span id="local-6989586621681101064"><span id="local-6989586621681101066"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#prettyPirReadable"><span class="hs-identifier hs-type">prettyPirReadable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyPir"><span class="hs-identifier hs-type">PrettyPir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101066"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681101066"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Doc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101064"><span class="hs-identifier hs-type">ann</span></a></span></span></span><span>
</span><span id="line-31"></span><span id="prettyPirReadable"><span class="annot"><span class="annottext">prettyPirReadable :: forall a ann. PrettyPir a =&gt; a -&gt; Doc ann
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#prettyPirReadable"><span class="hs-identifier hs-var hs-var">prettyPirReadable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall config a ann. PrettyBy config a =&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyBy</span></a></span><span> </span><span class="annot"><span class="annottext">PrettyConfigReadable PrettyConfigName
</span><a href="#local-6989586621681100802"><span class="hs-identifier hs-var">prettyConfigReadable</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-comment">-- Using 'debugPrettyConfigName', because it's actually helpful unlike 'defPrettyConfigName'.</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681100802"><span class="annot"><span class="annottext">prettyConfigReadable :: PrettyConfigReadable PrettyConfigName
</span><a href="#local-6989586621681100802"><span class="hs-identifier hs-var hs-var">prettyConfigReadable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall configName.
configName -&gt; ShowKinds -&gt; PrettyConfigReadable configName
</span><a href="PlutusCore.Pretty.Readable.html#botPrettyConfigReadable"><span class="hs-identifier hs-var">botPrettyConfigReadable</span></a></span><span> </span><span class="annot"><span class="annottext">PrettyConfigName
</span><a href="PlutusCore.Pretty.ConfigName.html#debugPrettyConfigName"><span class="hs-identifier hs-var">debugPrettyConfigName</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><a href="../../../../data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-comment">-- | Split an application into its (possible) head and arguments (either types or term)</span><span>
</span><span id="line-36"></span><span id="local-6989586621681101049"><span id="local-6989586621681101050"><span id="local-6989586621681101051"><span id="local-6989586621681101052"><span id="local-6989586621681101053"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewApp"><span class="hs-identifier hs-type">viewApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101053"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101052"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101051"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101050"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101049"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-37"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101053"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101052"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101051"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101050"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101049"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101053"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101051"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101049"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101053"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101052"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101051"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101050"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101049"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-38"></span><span id="viewApp"><span class="annot"><span class="annottext">viewApp :: forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe
     (Term tyname name uni fun ann,
      [Either (Type tyname uni ann) (Term tyname name uni fun ann)])
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewApp"><span class="hs-identifier hs-var hs-var">viewApp</span></a></span></span><span> </span><span id="local-6989586621681100795"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100795"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {tyname} {name} {uni :: * -&gt; *} {fun} {a}.
Term tyname name uni fun a
-&gt; [Either (Type tyname uni a) (Term tyname name uni fun a)]
-&gt; Maybe
     (Term tyname name uni fun a,
      [Either (Type tyname uni a) (Term tyname name uni fun a)])
</span><a href="#local-6989586621681100794"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100795"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-40"></span><span>    </span><span id="local-6989586621681100794"><span class="annot"><span class="annottext">go :: Term tyname name uni fun a
-&gt; [Either (Type tyname uni a) (Term tyname name uni fun a)]
-&gt; Maybe
     (Term tyname name uni fun a,
      [Either (Type tyname uni a) (Term tyname name uni fun a)])
</span><a href="#local-6989586621681100794"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100790"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100790"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681100789"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100789"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span id="local-6989586621681100788"><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100788"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; [Either (Type tyname uni a) (Term tyname name uni fun a)]
-&gt; Maybe
     (Term tyname name uni fun a,
      [Either (Type tyname uni a) (Term tyname name uni fun a)])
</span><a href="#local-6989586621681100794"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100790"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100789"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100788"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="#local-6989586621681100794"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#TyInst"><span class="hs-identifier hs-type">TyInst</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100786"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100786"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681100785"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100785"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681100784"><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100784"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; [Either (Type tyname uni a) (Term tyname name uni fun a)]
-&gt; Maybe
     (Term tyname name uni fun a,
      [Either (Type tyname uni a) (Term tyname name uni fun a)])
</span><a href="#local-6989586621681100794"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100786"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100785"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100784"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="#local-6989586621681100794"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681100783"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100783"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681100782"><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100782"><span class="hs-identifier hs-var">args</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100782"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100783"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100782"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">-- | Split a type abstraction into it's possible components.</span><span>
</span><span id="line-45"></span><span id="local-6989586621681101028"><span id="local-6989586621681101029"><span id="local-6989586621681101030"><span id="local-6989586621681101031"><span id="local-6989586621681101032"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewTyAbs"><span class="hs-identifier hs-type">viewTyAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101032"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101031"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101030"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101029"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101028"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-type">TyVarDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101032"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101032"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101031"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101030"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101029"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101028"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-46"></span><span id="viewTyAbs"><span class="annot"><span class="annottext">viewTyAbs :: forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe ([TyVarDecl tyname ()], Term tyname name uni fun ann)
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewTyAbs"><span class="hs-identifier hs-var hs-var">viewTyAbs</span></a></span></span><span> </span><span id="local-6989586621681100779"><span class="annot"><span class="annottext">t :: Term tyname name uni fun ann
</span><a href="#local-6989586621681100779"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="PlutusIR.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {tyname} {name} {uni :: * -&gt; *} {fun} {a}.
Term tyname name uni fun a
-&gt; ([TyVarDecl tyname ()], Term tyname name uni fun a)
</span><a href="#local-6989586621681100777"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100779"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681100777"><span class="annot"><span class="annottext">go :: Term tyname name uni fun a
-&gt; ([TyVarDecl tyname ()], Term tyname name uni fun a)
</span><a href="#local-6989586621681100777"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100772"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100772"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681100771"><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681100771"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681100770"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100770"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tyname ann.
ann -&gt; tyname -&gt; Kind ann -&gt; TyVarDecl tyname ann
</span><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-var">TyVarDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100772"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">Kind a
</span><a href="#local-6989586621681100771"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; ([TyVarDecl tyname ()], Term tyname name uni fun a)
</span><a href="#local-6989586621681100777"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100770"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="#local-6989586621681100777"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681100766"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100766"><span class="hs-identifier hs-var">t</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100766"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewTyAbs"><span class="hs-identifier hs-var">viewTyAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">-- | Split a term abstraction into it's possible components.</span><span>
</span><span id="line-52"></span><span id="local-6989586621681101000"><span id="local-6989586621681101001"><span id="local-6989586621681101002"><span id="local-6989586621681101003"><span id="local-6989586621681101004"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLam"><span class="hs-identifier hs-type">viewLam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101004"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101003"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101002"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101001"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101000"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101004"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101003"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101002"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101004"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101003"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101002"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101001"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681101000"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-53"></span><span id="viewLam"><span class="annot"><span class="annottext">viewLam :: forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe
     ([VarDecl tyname name uni ()], Term tyname name uni fun ann)
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLam"><span class="hs-identifier hs-var hs-var">viewLam</span></a></span></span><span> </span><span id="local-6989586621681100764"><span class="annot"><span class="annottext">t :: Term tyname name uni fun ann
</span><a href="#local-6989586621681100764"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="PlutusIR.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {tyname} {name} {uni :: * -&gt; *} {fun} {a}.
Term tyname name uni fun a
-&gt; ([VarDecl tyname name uni ()], Term tyname name uni fun a)
</span><a href="#local-6989586621681100762"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100764"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681100762"><span class="annot"><span class="annottext">go :: Term tyname name uni fun a
-&gt; ([VarDecl tyname name uni ()], Term tyname name uni fun a)
</span><a href="#local-6989586621681100762"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100758"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100758"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681100757"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100757"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681100756"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100756"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) ann.
ann -&gt; name -&gt; Type tyname uni ann -&gt; VarDecl tyname name uni ann
</span><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-var">VarDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100758"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100757"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; ([VarDecl tyname name uni ()], Term tyname name uni fun a)
</span><a href="#local-6989586621681100762"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100756"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><a href="#local-6989586621681100762"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681100754"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100754"><span class="hs-identifier hs-var">t</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100754"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLam"><span class="hs-identifier hs-var">viewLam</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">-- | Split a let into a sequence of lets and its remaining body</span><span>
</span><span id="line-59"></span><span id="local-6989586621681100979"><span id="local-6989586621681100980"><span id="local-6989586621681100981"><span id="local-6989586621681100982"><span id="local-6989586621681100983"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLet"><span class="hs-identifier hs-type">viewLet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100983"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100982"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100981"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100980"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100979"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Recursivity"><span class="hs-identifier hs-type">Recursivity</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="PlutusIR.Core.Type.html#Binding"><span class="hs-identifier hs-type">Binding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100983"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100982"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100981"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100980"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100979"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100983"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100982"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100981"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100980"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100979"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-60"></span><span id="viewLet"><span class="annot"><span class="annottext">viewLet :: forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe
     ([(Recursivity, [Binding tyname name uni fun ann])],
      Term tyname name uni fun ann)
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLet"><span class="hs-identifier hs-var hs-var">viewLet</span></a></span></span><span> </span><span id="local-6989586621681100752"><span class="annot"><span class="annottext">t :: Term tyname name uni fun ann
</span><a href="#local-6989586621681100752"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="PlutusIR.Core.Type.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {tyname} {name} {uni :: * -&gt; *} {fun} {a}.
Term tyname name uni fun a
-&gt; ([(Recursivity, [Binding tyname name uni fun a])],
    Term tyname name uni fun a)
</span><a href="#local-6989586621681100750"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100752"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681100750"><span class="annot"><span class="annottext">go :: Term tyname name uni fun a
-&gt; ([(Recursivity, [Binding tyname name uni fun a])],
    Term tyname name uni fun a)
</span><a href="#local-6989586621681100750"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100746"><span class="annot"><span class="annottext">Recursivity
</span><a href="#local-6989586621681100746"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681100745"><span class="annot"><span class="annottext">NonEmpty (Binding tyname name uni fun a)
</span><a href="#local-6989586621681100745"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621681100744"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100744"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Recursivity
</span><a href="#local-6989586621681100746"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Binding tyname name uni fun a)
</span><a href="#local-6989586621681100745"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
-&gt; ([(Recursivity, [Binding tyname name uni fun a])],
    Term tyname name uni fun a)
</span><a href="#local-6989586621681100750"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100744"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="#local-6989586621681100750"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681100742"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100742"><span class="hs-identifier hs-var">t</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100742"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLet"><span class="hs-identifier hs-var">viewLet</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">type</span><span> </span><span id="PrettyConstraints"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyConstraints"><span class="hs-identifier hs-var">PrettyConstraints</span></a></span></span><span> </span><span id="local-6989586621681100741"><span class="annot"><a href="#local-6989586621681100741"><span class="hs-identifier hs-type">configName</span></a></span></span><span> </span><span id="local-6989586621681100740"><span class="annot"><a href="#local-6989586621681100740"><span class="hs-identifier hs-type">tyname</span></a></span></span><span> </span><span id="local-6989586621681100739"><span class="annot"><a href="#local-6989586621681100739"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span id="local-6989586621681100738"><span class="annot"><a href="#local-6989586621681100738"><span class="hs-identifier hs-type">uni</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyReadableBy"><span class="hs-identifier hs-type">PrettyReadableBy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100741"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100740"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyReadableBy"><span class="hs-identifier hs-type">PrettyReadableBy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100741"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100739"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100738"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100738"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681100738"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`Everywhere`</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Pretty.PrettyConst.html#PrettyConst"><span class="hs-identifier hs-type">PrettyConst</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681100735"><span id="local-6989586621681100960"><span id="local-6989586621681100961"><span id="local-6989586621681100962"><span id="local-6989586621681100963"><span id="local-6989586621681100964"><span id="local-6989586621681100965"><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyConstraints"><span class="hs-identifier hs-type">PrettyConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100965"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100964"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100963"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100962"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100961"><span class="hs-identifier hs-type">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyConfigReadable"><span class="hs-identifier hs-type">PrettyConfigReadable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100965"><span class="hs-identifier hs-type">configName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100964"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100963"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100962"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100961"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100960"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>    </span><span id="local-6989586621681100624"><span class="annot"><span class="annottext">prettyBy :: forall ann.
PrettyConfigReadable configName
-&gt; Term tyname name uni fun a -&gt; Doc ann
</span><a href="#local-6989586621681100624"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a config ann.
(a -&gt; InContextM config (Doc ann)) -&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">inContextM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100621"><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681100621"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Doc ann -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">unitDocM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681100621"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100617"><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681100617"><span class="hs-identifier hs-var">bi</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Doc ann -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">unitDocM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681100617"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-77"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe
     (Term tyname name uni fun ann,
      [Either (Type tyname uni ann) (Term tyname name uni fun ann)])
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewApp"><span class="hs-identifier hs-var">viewApp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681100616"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100616"><span class="hs-identifier hs-var">fun</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681100615"><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100615"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-78"></span><span>          </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity
-&gt; ((forall a.
     PrettyBy config a =&gt;
     Direction -&gt; Fixity -&gt; a -&gt; Doc ann)
    -&gt; Doc ann)
-&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">compoundDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681100612"><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100612"><span class="hs-identifier hs-var">prettyIn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-79"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681100607"><span class="annot"><span class="annottext">ppArg :: Either a a -&gt; Doc ann
</span><a href="#local-6989586621681100607"><span class="hs-identifier hs-var hs-var">ppArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681100606"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100606"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">braces</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100612"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100606"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-80"></span><span>                </span><span class="annot"><a href="#local-6989586621681100607"><span class="hs-identifier hs-var">ppArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681100602"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100602"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100612"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100602"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-81"></span><span>            </span><span class="hs-comment">-- Using `align` here and gathering the arguments together helps to lay out</span><span>
</span><span id="line-82"></span><span>            </span><span class="hs-comment">-- function applications compactly like:</span><span>
</span><span id="line-83"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-84"></span><span>            </span><span class="hs-comment">-- foo a b c</span><span>
</span><span id="line-85"></span><span>            </span><span class="hs-comment">--     d e f</span><span>
</span><span id="line-86"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span>            </span><span class="hs-comment">-- or</span><span>
</span><span id="line-88"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-89"></span><span>            </span><span class="hs-comment">-- foo</span><span>
</span><span id="line-90"></span><span>            </span><span class="hs-comment">--  veryLongArg</span><span>
</span><span id="line-91"></span><span>            </span><span class="hs-comment">--  a b c</span><span>
</span><span id="line-92"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-93"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100612"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100616"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">fillSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a} {a}.
(PrettyBy (PrettyConfigReadable configName) a,
 PrettyBy (PrettyConfigReadable configName) a) =&gt;
Either a a -&gt; Doc ann
</span><a href="#local-6989586621681100607"><span class="hs-identifier hs-var">ppArg</span></a></span><span> </span><span class="annot"><span class="annottext">[Either (Type tyname uni a) (Term tyname name uni fun a)]
</span><a href="#local-6989586621681100615"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The impossible happened. This should be covered by the `viewApp` case above.&quot;</span></span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#TyInst"><span class="hs-identifier hs-type">TyInst</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The impossible happened. This should be covered by the `viewApp` case above.&quot;</span></span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100595"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100595"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) a ann.
(MonadPretty config env m, PrettyBy config a) =&gt;
a -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyM</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100595"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-97"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe ([TyVarDecl tyname ()], Term tyname name uni fun ann)
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewTyAbs"><span class="hs-identifier hs-var">viewTyAbs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681100593"><span class="annot"><span class="annottext">[TyVarDecl tyname ()]
</span><a href="#local-6989586621681100593"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681100592"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100592"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-98"></span><span>            </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann r.
MonadPrettyContext config env m =&gt;
Direction -&gt; Fixity -&gt; (AnyToDoc config ann -&gt; m r) -&gt; m r
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">withPrettyAt</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621681100590"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100590"><span class="hs-identifier hs-var">prettyBot</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-99"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681100588"><span class="annot"><span class="annottext">pBody :: Doc ann
</span><a href="#local-6989586621681100588"><span class="hs-identifier hs-var hs-var">pBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100590"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100592"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-100"></span><span>                </span><span id="local-6989586621681100587"><span class="annot"><span class="annottext">[Doc ann]
</span><a href="#local-6989586621681100587"><span class="hs-identifier hs-var">pBinds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) a ann.
(MonadPretty config env m, PrettyBy config a) =&gt;
a -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyM</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarDecl tyname ()]
</span><a href="#local-6989586621681100593"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-101"></span><span>                </span><span class="hs-comment">-- See comment below about laying out lambdas</span><span>
</span><span id="line-102"></span><span>                </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity -&gt; Doc ann -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">encloseM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;/\\&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">fillSep</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc ann]
</span><a href="#local-6989586621681100587"><span class="hs-identifier hs-var">pBinds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><a href="#local-6989586621681100588"><span class="hs-identifier hs-var">pBody</span></a></span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The impossible happened. This should be covered by the `viewTyAbs` case above.&quot;</span></span><span>
</span><span id="line-104"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe
     ([VarDecl tyname name uni ()], Term tyname name uni fun ann)
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLam"><span class="hs-identifier hs-var">viewLam</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681100582"><span class="annot"><span class="annottext">[VarDecl tyname name uni ()]
</span><a href="#local-6989586621681100582"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681100581"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100581"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-105"></span><span>            </span><span class="hs-comment">-- Lay out abstraction like</span><span>
</span><span id="line-106"></span><span>            </span><span class="hs-comment">--  \ (x : t) (y : t')</span><span>
</span><span id="line-107"></span><span>            </span><span class="hs-comment">--    (z : t'') -&gt; body</span><span>
</span><span id="line-108"></span><span>            </span><span class="hs-comment">-- or</span><span>
</span><span id="line-109"></span><span>            </span><span class="hs-comment">--  \ (x : t) (y : t')</span><span>
</span><span id="line-110"></span><span>            </span><span class="hs-comment">--    (z : t'') -&gt;</span><span>
</span><span id="line-111"></span><span>            </span><span class="hs-comment">--    bigStartOfBody</span><span>
</span><span id="line-112"></span><span>            </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity
-&gt; ((forall a.
     PrettyBy config a =&gt;
     Direction -&gt; Fixity -&gt; a -&gt; Doc ann)
    -&gt; Doc ann)
-&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">compoundDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100580"><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100580"><span class="hs-identifier hs-var">prettyIn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-113"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681100577"><span class="annot"><span class="annottext">prettyBot :: a -&gt; Doc ann
</span><a href="#local-6989586621681100577"><span class="hs-identifier hs-var hs-var">prettyBot</span></a></span></span><span> </span><span id="local-6989586621681100576"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100576"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100580"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100576"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-114"></span><span>                    </span><span id="local-6989586621681100574"><span class="annot"><span class="annottext">prettyBinds :: Doc ann
</span><a href="#local-6989586621681100574"><span class="hs-identifier hs-var hs-var">prettyBinds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">fillSep</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100580"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[VarDecl tyname name uni ()]
</span><a href="#local-6989586621681100582"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-115"></span><span>                </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;\\&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><a href="#local-6989586621681100574"><span class="hs-identifier hs-var">prettyBinds</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;-&gt;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100577"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100581"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-116"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The impossible happened. This should be covered by the `viewLam` case above.&quot;</span></span><span>
</span><span id="line-117"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Unwrap"><span class="hs-identifier hs-type">Unwrap</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100571"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100571"><span class="hs-identifier hs-var">term</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-118"></span><span>            </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Direction
-&gt; Fixity -&gt; (AnyToDoc config ann -&gt; Doc ann) -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">sequenceDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100569"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100569"><span class="hs-identifier hs-var">prettyEl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-119"></span><span>                </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;unwrap&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100569"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100571"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-120"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#IWrap"><span class="hs-identifier hs-type">IWrap</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100567"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100567"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621681100566"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100566"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681100565"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100565"><span class="hs-identifier hs-var">term</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-121"></span><span>            </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Direction
-&gt; Fixity -&gt; (AnyToDoc config ann -&gt; Doc ann) -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">sequenceDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100564"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100564"><span class="hs-identifier hs-var">prettyEl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>                </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;iwrap&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100564"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100567"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100564"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100566"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100564"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100565"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100562"><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100562"><span class="hs-identifier hs-var">ty</span></a></span></span><span>             </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-124"></span><span>            </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity
-&gt; ((forall a.
     PrettyBy config a =&gt;
     Direction -&gt; Fixity -&gt; a -&gt; Doc ann)
    -&gt; Doc ann)
-&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">compoundDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100561"><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100561"><span class="hs-identifier hs-var">prettyIn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-125"></span><span>                </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;error&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">braces</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100561"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni a
</span><a href="#local-6989586621681100562"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; Maybe
     ([(Recursivity, [Binding tyname name uni fun ann])],
      Term tyname name uni fun ann)
</span><a href="PlutusIR.Core.Instance.Pretty.Readable.html#viewLet"><span class="hs-identifier hs-var">viewLet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681100560"><span class="annot"><span class="annottext">[(Recursivity, [Binding tyname name uni fun a])]
</span><a href="#local-6989586621681100560"><span class="hs-identifier hs-var">lets</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681100559"><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100559"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-127"></span><span>            </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity
-&gt; ((forall a.
     PrettyBy config a =&gt;
     Direction -&gt; Fixity -&gt; a -&gt; Doc ann)
    -&gt; Doc ann)
-&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">compoundDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100558"><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100558"><span class="hs-identifier hs-var">prettyIn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-128"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681100555"><span class="annot"><span class="annottext">prettyBot :: a -&gt; Doc ann
</span><a href="#local-6989586621681100555"><span class="hs-identifier hs-var hs-var">prettyBot</span></a></span></span><span> </span><span id="local-6989586621681100554"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100554"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a.
PrettyBy (PrettyConfigReadable configName) a =&gt;
Direction -&gt; Fixity -&gt; a -&gt; Doc ann
</span><a href="#local-6989586621681100558"><span class="hs-identifier hs-var">prettyIn</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681100554"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-129"></span><span>                    </span><span id="local-6989586621681100550"><span class="annot"><span class="annottext">prec :: Recursivity -&gt; a
</span><a href="#local-6989586621681100550"><span class="hs-identifier hs-var hs-var">prec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Recursivity
</span><a href="PlutusIR.Core.Type.html#NonRec"><span class="hs-identifier hs-var">NonRec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-130"></span><span>                    </span><span class="annot"><a href="#local-6989586621681100550"><span class="hs-identifier hs-var">prec</span></a></span><span> </span><span class="annot"><span class="annottext">Recursivity
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;rec&quot;</span></span><span>
</span><span id="line-131"></span><span>                </span><span class="hs-comment">-- Lay out let-bindings in a layout-sensitive way</span><span>
</span><span id="line-132"></span><span>                </span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span>                </span><span class="hs-comment">-- let !x : t = a</span><span>
</span><span id="line-134"></span><span>                </span><span class="hs-comment">-- in</span><span>
</span><span id="line-135"></span><span>                </span><span class="hs-comment">-- let !y : t = b</span><span>
</span><span id="line-136"></span><span>                </span><span class="hs-comment">-- in foo x y</span><span>
</span><span id="line-137"></span><span>                </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;let&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. IsString a =&gt; Recursivity -&gt; a
</span><a href="#local-6989586621681100550"><span class="hs-identifier hs-var">prec</span></a></span><span> </span><span class="annot"><span class="annottext">Recursivity
</span><a href="#local-6989586621681100547"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#vcatHard"><span class="hs-identifier hs-var">vcatHard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100555"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Binding tyname name uni fun a]
</span><a href="#local-6989586621681100544"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;in&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>                              </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681100547"><span class="annot"><span class="annottext">Recursivity
</span><a href="#local-6989586621681100547"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681100544"><span class="annot"><span class="annottext">[Binding tyname name uni fun a]
</span><a href="#local-6989586621681100544"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Recursivity, [Binding tyname name uni fun a])]
</span><a href="#local-6989586621681100560"><span class="hs-identifier hs-var">lets</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100555"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun a
</span><a href="#local-6989586621681100559"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-139"></span><span>        </span><span class="annot"><a href="PlutusIR.Core.Type.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;The impossible happened. This should be covered by the `viewLet` case above.&quot;</span></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681100541"><span id="local-6989586621681100925"><span id="local-6989586621681100926"><span id="local-6989586621681100927"><span id="local-6989586621681100928"><span id="local-6989586621681100929"><span id="local-6989586621681100930"><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyConstraints"><span class="hs-identifier hs-type">PrettyConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100930"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100929"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100928"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100927"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100926"><span class="hs-identifier hs-type">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyConfigReadable"><span class="hs-identifier hs-type">PrettyConfigReadable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100930"><span class="hs-identifier hs-type">configName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Binding"><span class="hs-identifier hs-type">Binding</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100929"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100928"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100927"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100926"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100925"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>  </span><span id="local-6989586621681100517"><span class="annot"><span class="annottext">prettyBy :: forall ann.
PrettyConfigReadable configName
-&gt; Binding tyname name uni fun ann -&gt; Doc ann
</span><a href="#local-6989586621681100517"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a config ann.
(a -&gt; InContextM config (Doc ann)) -&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">inContextM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><a href="PlutusIR.Core.Type.html#TermBind"><span class="hs-identifier hs-type">TermBind</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100515"><span class="annot"><span class="annottext">Strictness
</span><a href="#local-6989586621681100515"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681100514"><span class="annot"><span class="annottext">VarDecl tyname name uni ann
</span><a href="#local-6989586621681100514"><span class="hs-identifier hs-var">vdec</span></a></span></span><span> </span><span id="local-6989586621681100513"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100513"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-145"></span><span>      </span><span class="hs-comment">-- Layout term bindings in lets like</span><span>
</span><span id="line-146"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-147"></span><span>      </span><span class="hs-comment">--  let !a : t = body</span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-comment">-- or</span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-151"></span><span>      </span><span class="hs-comment">--  let !a : t</span><span>
</span><span id="line-152"></span><span>      </span><span class="hs-comment">--       = biggerBody</span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann r.
MonadPrettyContext config env m =&gt;
Direction -&gt; Fixity -&gt; (AnyToDoc config ann -&gt; m r) -&gt; m r
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">withPrettyAt</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100512"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100512"><span class="hs-identifier hs-var">prettyBot</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc ann
</span><a href="#local-6989586621681100511"><span class="hs-identifier hs-var">bt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100512"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">VarDecl tyname name uni ann
</span><a href="#local-6989586621681100514"><span class="hs-identifier hs-var">vdec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100512"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681100513"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-155"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-156"></span><span>        </span><span id="local-6989586621681100511"><span class="annot"><span class="annottext">bt :: Doc ann
</span><a href="#local-6989586621681100511"><span class="hs-identifier hs-var hs-var">bt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="PlutusIR.Core.Type.html#Strict"><span class="hs-identifier hs-var">Strict</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="#local-6989586621681100515"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;!&quot;</span></span><span>
</span><span id="line-157"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;~&quot;</span></span><span>
</span><span id="line-158"></span><span>    </span><span class="annot"><a href="PlutusIR.Core.Type.html#TypeBind"><span class="hs-identifier hs-type">TypeBind</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100506"><span class="annot"><span class="annottext">TyVarDecl tyname ann
</span><a href="#local-6989586621681100506"><span class="hs-identifier hs-var">tydec</span></a></span></span><span> </span><span id="local-6989586621681100505"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681100505"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-159"></span><span>      </span><span class="hs-comment">-- Basically the same as above</span><span>
</span><span id="line-160"></span><span>      </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann r.
MonadPrettyContext config env m =&gt;
Direction -&gt; Fixity -&gt; (AnyToDoc config ann -&gt; m r) -&gt; m r
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">withPrettyAt</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100504"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100504"><span class="hs-identifier hs-var">prettyBot</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-161"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100504"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarDecl tyname ann
</span><a href="#local-6989586621681100506"><span class="hs-identifier hs-var">tydec</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#%3C%3F%3E"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100504"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681100505"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><a href="PlutusIR.Core.Type.html#DatatypeBind"><span class="hs-identifier hs-type">DatatypeBind</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100502"><span class="annot"><span class="annottext">Datatype tyname name uni ann
</span><a href="#local-6989586621681100502"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) a ann.
(MonadPretty config env m, PrettyBy config a) =&gt;
a -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyM</span></a></span><span> </span><span class="annot"><span class="annottext">Datatype tyname name uni ann
</span><a href="#local-6989586621681100502"><span class="hs-identifier hs-var">dt</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681100499"><span id="local-6989586621681100856"><span id="local-6989586621681100857"><span id="local-6989586621681100858"><span id="local-6989586621681100859"><span id="local-6989586621681100860"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyConstraints"><span class="hs-identifier hs-type">PrettyConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100860"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100859"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100858"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100857"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-165"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyConfigReadable"><span class="hs-identifier hs-type">PrettyConfigReadable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100860"><span class="hs-identifier hs-type">configName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusIR.Core.Type.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100859"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100858"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100857"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100856"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621681100479"><span class="annot"><span class="annottext">prettyBy :: forall ann.
PrettyConfigReadable configName
-&gt; Datatype tyname name uni ann -&gt; Doc ann
</span><a href="#local-6989586621681100479"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a config ann.
(a -&gt; InContextM config (Doc ann)) -&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">inContextM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><a href="PlutusIR.Core.Type.html#Datatype"><span class="hs-identifier hs-type">Datatype</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100477"><span class="annot"><span class="annottext">TyVarDecl tyname ann
</span><a href="#local-6989586621681100477"><span class="hs-identifier hs-var">tydec</span></a></span></span><span> </span><span id="local-6989586621681100476"><span class="annot"><span class="annottext">[TyVarDecl tyname ann]
</span><a href="#local-6989586621681100476"><span class="hs-identifier hs-var">pars</span></a></span></span><span> </span><span id="local-6989586621681100475"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100475"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681100474"><span class="annot"><span class="annottext">[VarDecl tyname name uni ann]
</span><a href="#local-6989586621681100474"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-comment">-- Layout datatypes as</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-comment">--  data (Maybe :: * -&gt; *) a | match_Maybe where</span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-comment">--    Nothing : D a</span><span>
</span><span id="line-171"></span><span>      </span><span class="hs-comment">--    Just : a -&gt; D a</span><span>
</span><span id="line-172"></span><span>      </span><span id="local-6989586621681100473"><span class="annot"><span class="annottext">Doc ann
</span><a href="#local-6989586621681100473"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Direction
-&gt; Fixity -&gt; (AnyToDoc config ann -&gt; Doc ann) -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">sequenceDocM</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">juxtFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100472"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100472"><span class="hs-identifier hs-var">prettyEl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>                  </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;data&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">fillSep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100472"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarDecl tyname ann
</span><a href="#local-6989586621681100477"><span class="hs-identifier hs-var">tydec</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100472"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarDecl tyname ann]
</span><a href="#local-6989586621681100476"><span class="hs-identifier hs-var">pars</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;|&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100472"><span class="hs-identifier hs-var">prettyEl</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100475"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;where&quot;</span></span><span>
</span><span id="line-174"></span><span>      </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann r.
MonadPrettyContext config env m =&gt;
Direction -&gt; Fixity -&gt; (AnyToDoc config ann -&gt; m r) -&gt; m r
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">withPrettyAt</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100471"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100471"><span class="hs-identifier hs-var">prettyBot</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-175"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#vcatHard"><span class="hs-identifier hs-var">vcatHard</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc ann
</span><a href="#local-6989586621681100473"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">indent</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="Prettyprinter.Custom.html#vcatHard"><span class="hs-identifier hs-var">vcatHard</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100471"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[VarDecl tyname name uni ann]
</span><a href="#local-6989586621681100474"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681100467"><span id="local-6989586621681100931"><span id="local-6989586621681100932"><span id="local-6989586621681100933"><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyReadableBy"><span class="hs-identifier hs-type">PrettyReadableBy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100933"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100932"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-178"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyConfigReadable"><span class="hs-identifier hs-type">PrettyConfigReadable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100933"><span class="hs-identifier hs-type">configName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-type">TyVarDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100932"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100931"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>  </span><span id="local-6989586621681100434"><span class="annot"><span class="annottext">prettyBy :: forall ann.
PrettyConfigReadable configName -&gt; TyVarDecl tyname ann -&gt; Doc ann
</span><a href="#local-6989586621681100434"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a config ann.
(a -&gt; InContextM config (Doc ann)) -&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">inContextM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-type">TyVarDecl</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100433"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100433"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681100432"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681100432"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-181"></span><span>      </span><span id="local-6989586621681100431"><span class="annot"><span class="annottext">ShowKinds
</span><a href="#local-6989586621681100431"><span class="hs-identifier hs-var">showKinds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><a href="../../../../lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall env config. HasPrettyConfig env config =&gt; Lens' env config
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">prettyConfig</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall configName.
Lens' (PrettyConfigReadable configName) ShowKinds
</span><a href="PlutusCore.Pretty.Readable.html#pcrShowKinds"><span class="hs-identifier hs-var">pcrShowKinds</span></a></span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann r.
MonadPrettyContext config env m =&gt;
Direction -&gt; Fixity -&gt; (AnyToDoc config ann -&gt; m r) -&gt; m r
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">withPrettyAt</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100427"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-183"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShowKinds
</span><a href="#local-6989586621681100431"><span class="hs-identifier hs-var">showKinds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-184"></span><span>          </span><span class="annot"><span class="annottext">ShowKinds
</span><a href="PlutusCore.Pretty.Readable.html#ShowKindsYes"><span class="hs-identifier hs-var">ShowKindsYes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity -&gt; Doc ann -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">encloseM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100433"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;::&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681100432"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>          </span><span class="annot"><span class="annottext">ShowKinds
</span><a href="PlutusCore.Pretty.Readable.html#ShowKindsNonType"><span class="hs-identifier hs-var">ShowKindsNonType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681100432"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-186"></span><span>            </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100433"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-187"></span><span>            </span><span class="annot"><span class="annottext">Kind ann
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity -&gt; Doc ann -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">encloseM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100433"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;::&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681100432"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>          </span><span class="annot"><span class="annottext">ShowKinds
</span><a href="PlutusCore.Pretty.Readable.html#ShowKindsNo"><span class="hs-identifier hs-var">ShowKindsNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100427"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681100433"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681100420"><span id="local-6989586621681100874"><span id="local-6989586621681100875"><span id="local-6989586621681100876"><span id="local-6989586621681100877"><span id="local-6989586621681100878"><span class="annot"><a href="PlutusIR.Core.Instance.Pretty.Readable.html#PrettyConstraints"><span class="hs-identifier hs-type">PrettyConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100878"><span class="hs-identifier hs-type">configName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100877"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100876"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100875"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-191"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-type">PrettyBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Pretty.Readable.html#PrettyConfigReadable"><span class="hs-identifier hs-type">PrettyConfigReadable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100878"><span class="hs-identifier hs-type">configName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100877"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100876"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100875"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681100874"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>  </span><span id="local-6989586621681100406"><span class="annot"><span class="annottext">prettyBy :: forall ann.
PrettyConfigReadable configName
-&gt; VarDecl tyname name uni ann -&gt; Doc ann
</span><a href="#local-6989586621681100406"><span class="hs-identifier hs-var hs-var hs-var hs-var">prettyBy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a config ann.
(a -&gt; InContextM config (Doc ann)) -&gt; config -&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">inContextM</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span class="annot"><span class="annottext">ann
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681100405"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100405"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681100404"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681100404"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann r.
MonadPrettyContext config env m =&gt;
Direction -&gt; Fixity -&gt; (AnyToDoc config ann -&gt; m r) -&gt; m r
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">withPrettyAt</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">ToTheRight</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">botFixity</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681100403"><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100403"><span class="hs-identifier hs-var">prettyBot</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-195"></span><span>        </span><span class="annot"><span class="annottext">forall config env (m :: * -&gt; *) ann.
MonadPrettyContext config env m =&gt;
Fixity -&gt; Doc ann -&gt; m (Doc ann)
</span><a href="../../../../prettyprinter-configurable/html/src"><span class="hs-identifier hs-var">encloseM</span></a></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><a href="PlutusCore.Pretty.Readable.html#binderFixity"><span class="hs-identifier hs-var">binderFixity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall ann. [Doc ann] -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">sep</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100403"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681100405"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyToDoc (PrettyConfigReadable configName) ann
</span><a href="#local-6989586621681100403"><span class="hs-identifier hs-var">prettyBot</span></a></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681100404"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-196"></span></pre></body></html>